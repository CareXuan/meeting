# 面试问题总结1

1. nginx和php-fpm是怎么通信的？
   - 如果是127.0.0.1:9000 就是tcp socket方式进行通信 当nginx和php-fpm不在同一台机器的时候，可以通过php-fpm的ip地址和端口号进行跨服务器通信
   - 如果是php-fpm.sock 就是unix socket方式进行通信，就是通过终端进行通信，底层就是php-fpm的进程和nginx进程进行通信，这种方式配置的是php-fpm的pid文件位置，这种方式效率比tcp socket高
   - 在nginx和php-fpm配置的时候要保证都是用同一个用户和同一个组，这样不会有权限问题（一般为www-data）
2. B-Tree索引和B+Tree索引区别
   - B-Tree索引的值存在每一个节点上，B+Tree索引的值存在最底层叶子结点上
   - B+Tree的右子节点的第一个索引一定是他自己
   - B-Tree和B+Tree对于子节点都是索引值小的是左子节点，索引值大的是右子节点
3. https请求的流程
   - 先连接到443端口将请求打到服务器
   - 服务器将非对称加密公钥以证书形式回传给客户端
   - 客户端验证公钥，如果有问题请求不能继续，如果没问题客户端会随机生成一个私钥（client key），再用前面的公钥对client key进行加密发起二次http请求
   - 服务器用私钥解密，得到client key，再用client key对数据进行对称加密
   - 客户端收到密文数据后用client key进行解密得到数据后进行二次http请求
4. mysql查询语句实现对表的转置效果
   - 使用union拼接多条语句
5. redis击穿，穿透，雪崩的区别
   - 雪崩就是多点，类似零点大面积缓存失效，就是雪崩
   - 击穿是单点，对于一个热点key有高并发请求，如果这个key一消失，大量请求打到mysql
   - 穿透是指大量查询不存在的key
6. mysql事务特性
   - 原子性，一致性，隔离性，持久性
   - mysql默认的事务隔离级别是可重复读

